(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{176:function(e,t,n){},177:function(e,t,n){"use strict";n.r(t);var r=n(2),a=n(0),c=n.n(a),s=n(11),o=n.n(s),i=n(16),u=n(17),l=n(20),p=n(19),j=n(15),d=function(e){Object(l.a)(n,e);var t=Object(p.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(r.jsx)("div",{children:Object(r.jsx)("h1",{children:"home page!"})})}}]),n}(a.Component),b=n(24),h=n(7),O=n.n(h),m=n(13),f=n(97),x="/api/",v=n.n(f).a.create({withCredentials:!0}),g=function(e,t){return k(e,"GET",t)},y=function(e,t){return k(e,"POST",t)},w=function(e,t){return k(e,"PUT",t)},S=function(e,t){return k(e,"DELETE",t)};function k(e){return C.apply(this,arguments)}function C(){return(C=Object(m.a)(O.a.mark((function e(t){var n,r,a,c=arguments;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=c.length>1&&void 0!==c[1]?c[1]:"get",r=c.length>2&&void 0!==c[2]?c[2]:null,e.prev=2,e.next=5,v({url:"".concat(x).concat(t),method:n,data:r});case 5:return a=e.sent,e.abrupt("return",a.data);case 9:throw e.prev=9,e.t0=e.catch(2),console.log("Had Issues ".concat(n,"ing to the backend, endpoint: ").concat(t,", with data: ").concat(r)),console.dir(e.t0),e.t0.response&&401===e.t0.response.status&&window.location.assign("/#/login"),e.t0;case 15:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}var T="toy",I={query:function(e){var t="?";for(var n in e)e[n]&&(t+="&".concat(n,"=").concat(e[n]));return g(T+t)},getById:function(e){return g("".concat(T,"/").concat(e))},remove:function(e){return S("".concat(T,"/").concat(e))},update:function(e){return e._id?w("".concat(T,"/").concat(e._id),e):y(T,e)}};var _=n(27);function A(e){var t=e.toy;return Object(r.jsxs)("div",{className:"toy-preview flex col",children:[Object(r.jsx)("h2",{children:t.name}),Object(r.jsxs)("h4",{children:["Price: $",t.price]}),Object(r.jsx)(_.b,{to:"/toy/".concat(t._id),children:"Check It Out"})]})}function U(e){var t=e.toys;return Object(r.jsx)("section",{className:"toys-container flex wrap",children:t.map((function(e){return Object(r.jsx)(A,{toy:e},e._id)}))})}var M=n(35),N=function(e){Object(l.a)(n,e);var t=Object(p.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this,t=this.props.currFilter;return Object(r.jsx)("div",{className:"filter-form flex col",children:Object(r.jsx)(M.d,{initialValues:t,onInputChange:function(t){return e.props.setFilter(t)},onSubmit:function(t,n){var r=n.setSubmitting;e.props.setFilter(t),setTimeout((function(){r(!1)}),400)},children:function(e){var t=e.isSubmitting;return Object(r.jsxs)(M.c,{className:"flex col-st",children:[Object(r.jsx)("h1",{children:"Search:"}),Object(r.jsx)(M.b,{type:"text",name:"name",placeholder:"Toy Name"}),Object(r.jsx)(M.a,{name:"name",component:"div"}),Object(r.jsx)(M.b,{type:"text",name:"type",placeholder:"Type"}),Object(r.jsx)(M.a,{name:"type",component:"div"}),Object(r.jsxs)("div",{children:[Object(r.jsx)("br",{}),Object(r.jsx)("span",{children:"Price: "}),Object(r.jsx)("br",{}),Object(r.jsx)(M.b,{type:"number",name:"minPrice",placeholder:"From:"}),Object(r.jsx)(M.a,{name:"minPrice",component:"div"}),Object(r.jsx)(M.b,{type:"number",name:"maxPrice",placeholder:"to:"}),Object(r.jsx)(M.a,{name:"maxPrice",component:"div"})]}),Object(r.jsxs)("label",{children:[Object(r.jsx)("br",{}),"In Stock:",Object(r.jsx)("br",{}),Object(r.jsx)("br",{}),Object(r.jsxs)(M.b,{as:"select",name:"inStock",children:[Object(r.jsx)("option",{value:"all",children:"All"}),Object(r.jsx)("option",{value:"inStock",children:"In Stock"}),Object(r.jsx)("option",{value:"notInStock",children:"Not In Stock"})]})]}),Object(r.jsx)("button",{type:"submit",disabled:t,children:"Search"})]})}})})}}]),n}(c.a.Component),E={setFilter:function(e){return function(t){return t({type:"SET_FILTER",filter:e})}}},R=Object(b.b)((function(e){return{currFilter:e.toyReducer.currFilter}}),E)(N),L=function(e){Object(l.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.props.loadToys(this.props.currFilter)}},{key:"componentDidUpdate",value:function(e,t){e.currFilter!==this.props.currFilter&&this.props.loadToys(this.props.currFilter)}},{key:"render",value:function(){var e=this.props.toys;return e?Object(r.jsxs)("main",{children:[Object(r.jsx)(R,{somename:this.props.currFilter}),Object(r.jsx)(_.b,{to:"toy/edit",children:"Add Toy"}),Object(r.jsx)(U,{toys:e})]}):Object(r.jsx)("h1",{children:"Loading..."})}}]),n}(c.a.Component),F={loadToys:function(e){return function(t){I.query(e).then((function(e){return t({type:"LOAD_TOYS",toys:e})}))}}},D=Object(b.b)((function(e){return{toys:e.toyReducer.toys,currFilter:e.toyReducer.currFilter}}),F)(L);function P(e){var t=e.reviews;return t?Object(r.jsx)("ul",{children:t.map((function(e){return Object(r.jsx)("li",{children:e.txt},Math.random())}))}):null}var G="review",W={query:function(e){return B.apply(this,arguments)},add:function(e){return q.apply(this,arguments)}};function B(){return(B=Object(m.a)(O.a.mark((function e(t){var n,r,a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(r in n="?",t)t[r]&&(n+="&".concat(r,"=").concat(t[r]));return e.prev=2,e.next=5,g(G+n);case 5:return a=e.sent,e.abrupt("return",a);case 9:e.prev=9,e.t0=e.catch(2),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function q(){return(q=Object(m.a)(O.a.mark((function e(t){var n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y(G,t);case 3:return n=e.sent,e.abrupt("return",n);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}var H=function(e){Object(l.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={toy:null,reviewToAdd:"",reviews:[]},e.onAddReview=function(){var t=Object(m.a)(O.a.mark((function t(n){var r,a;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),e.props.loggedUser){t.next=3;break}return t.abrupt("return");case 3:return r={txt:e.state.reviewToAdd,aboutToyId:e.state.toy._id},t.prev=4,t.next=7,e.props.addReview(r);case 7:return e.setState({reviewToAdd:""}),t.next=10,W.query({aboutToyId:e.state.toy._id});case 10:a=t.sent,e.setState({reviews:a}),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(4),console.log(t.t0);case 17:case"end":return t.stop()}}),t,null,[[4,14]])})));return function(e){return t.apply(this,arguments)}}(),e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=Object(m.a)(O.a.mark((function e(){var t,n,r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.match.params.toyId,e.next=3,I.getById(t);case 3:return n=e.sent,this.setState({toy:n}),e.next=7,W.query({aboutToyId:t});case 7:r=e.sent,this.setState({reviews:r});case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state.toy,n=this.props.loggedUser;return t?Object(r.jsxs)("main",{className:"toy-details",children:[t.url&&Object(r.jsx)("img",{src:t.url}),Object(r.jsx)("h2",{children:t.name}),Object(r.jsxs)("h3",{children:["Price: $",t.price]}),Object(r.jsxs)("h3",{children:["Category: ",t.type]}),Object(r.jsx)("h4",{children:t.inStock?"In Stock":"Currently out of stock"}),(null===n||void 0===n?void 0:n.isAdmin)&&Object(r.jsx)(_.b,{to:"/toy/edit/".concat(t._id),children:"Edit"}),Object(r.jsx)("hr",{}),Object(r.jsxs)("form",{onSubmit:this.onAddReview,children:[Object(r.jsx)("h3",{children:"Add Review:"}),Object(r.jsx)("input",{onChange:function(t){var n=t.target;return e.setState({reviewToAdd:n.value})},type:"text",value:this.state.reviewToAdd,placeholder:"Your review"}),Object(r.jsx)("button",{children:"Add"})]}),Object(r.jsx)("hr",{}),Object(r.jsx)(P,{reviews:this.state.reviews})]}):Object(r.jsx)("h1",{children:"Loading..."})}}]),n}(c.a.Component),V={addReview:function(e){return function(){var t=Object(m.a)(O.a.mark((function t(n){var r;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,W.add(e);case 3:return r=t.sent,n({type:"ADD_REVIEW",review:r}),setTimeout(n,1e3,{type:"CLEAR_MSG"}),n({type:"SHOW_MSG",msg:"review was added"}),t.abrupt("return",r);case 10:t.prev=10,t.t0=t.catch(0),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()}},Y=Object(b.b)((function(e){return{toys:e.toyReducer.toys,loggedUser:e.userReducer.loggedUser}}),V)(H),J=n(44),X=n(10),z={uploadImg:function(e){return K.apply(this,arguments)}};function K(){return(K=Object(m.a)(O.a.mark((function e(t){var n,r,a,c;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"nadico",n="https://api.cloudinary.com/v1_1/".concat("nadico","/image/upload"),(r=new FormData).append("file",t),r.append("upload_preset","my_upload_key"),e.prev=5,e.next=8,fetch(n,{method:"POST",body:r});case 8:return a=e.sent,e.next=11,a.json();case 11:return c=e.sent,e.abrupt("return",c);case 15:e.prev=15,e.t0=e.catch(5),console.log(e.t0);case 18:case"end":return e.stop()}}),e,null,[[5,15]])})))).apply(this,arguments)}var $=function(e){Object(l.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={imgUrl:null,isUploading:!1},e.onUploadImg=function(){var t=Object(m.a)(O.a.mark((function t(n){var r,a;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({isUploading:!0}),t.next=3,z.uploadImg(n.target.files[0]);case 3:r=t.sent,a=r.secure_url,console.log(a),e.setState({imgUrl:a,isUploading:!1}),e.props.onFinishUpload(a);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(u.a)(n,[{key:"render",value:function(){var e=this.state.isUploading;return Object(r.jsxs)("div",{children:[Object(r.jsx)("label",{htmlFor:"imageUploader",children:e?"Uploading....":"Upload Image"}),Object(r.jsx)("input",{onChange:this.onUploadImg,hidden:!0,type:"file",accept:"image/*",id:"imageUploader"})]})}}]),n}(a.Component),Z=function(e){Object(l.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={toy:{name:"",price:"",type:"",inStock:!0}},e.handleChange=function(t){var n=t.target,r=n.name,a=n.value,c=n.type,s=n.checked;a=+a?+a:a,"checkbox"===c&&(a=s);var o=e.state.toy;e.setState({toy:Object(X.a)(Object(X.a)({},o),{},Object(J.a)({},r,a))})},e.saveChanges=function(){var t=Object(m.a)(O.a.mark((function t(n){return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),console.log("updating",e.state.toy),t.next=4,e.props.updateToy(e.state.toy);case 4:e.props.history.push("/toy");case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.onDelete=function(){var t=e.state.toy;e.props.removeToy(t._id),e.props.history.push("/toy")},e.onUploadToyImage=function(t){e.setState((function(e){return{toy:Object(X.a)(Object(X.a)({},e.toy),{},{url:t})}}))},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.toyId;t&&I.getById(t).then((function(t){return e.setState({toy:t})}))}},{key:"render",value:function(){var e=this.state.toy,t=this.props.match.params.toyId;return Object(r.jsx)("main",{className:"toy-edit",children:Object(r.jsxs)("form",{className:"flex col",onSubmit:this.saveChanges,children:[Object(r.jsx)("input",{onChange:this.handleChange,name:"name",type:"text",value:e.name,placeholder:"Name"}),Object(r.jsx)("input",{onChange:this.handleChange,name:"type",type:"text",value:e.type,placeholder:"Type"}),Object(r.jsx)("input",{onChange:this.handleChange,name:"price",type:"number",value:e.price,placeholder:"Price"}),Object(r.jsxs)("label",{children:[Object(r.jsx)("input",{onChange:this.handleChange,name:"inStock",type:"checkbox",checked:e.inStock}),"In Stock"]}),Object(r.jsx)($,{onFinishUpload:this.onUploadToyImage}),Object(r.jsx)("button",{children:"Save"}),t&&Object(r.jsx)("button",{type:"button",onClick:this.onDelete,children:"Delete"})]})})}}]),n}(c.a.Component),Q={updateToy:function(e){return function(t){I.update(e).then((function(e){return t({type:"UPDATE_TOY",toy:e})}))}},removeToy:function(e){return function(t){I.remove(e).then((function(n){return t({type:"REMOVE_TOY",toyId:e})}))}}},ee=Object(b.b)((function(e){return{toys:e.toyReducer.toys}}),Q)(Z),te=n(68),ne=function(e){Object(l.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={showingInfoWindow:!1,activeMarker:{},selectedPlace:{}},e.onMapClick=function(e){},e}return Object(u.a)(n,[{key:"render",value:function(){return Object(r.jsxs)(te.Map,{style:{width:"50%",height:"40%"},google:this.props.google,zoom:14,onClick:this.onMapClick,initialCenter:this.props.pos,children:[Object(r.jsx)(te.Marker,{onClick:this.onMarkerClick,name:"Current location"}),Object(r.jsx)(te.InfoWindow,{onClose:this.onInfoWindowClose,children:Object(r.jsx)("div",{children:Object(r.jsx)("h1",{children:this.state.selectedPlace.name})})})]})}}]),n}(a.Component),re=Object(te.GoogleApiWrapper)({apiKey:"AIzaSyDLZcYhiN4d0Vkk1Ku1BBGR7UFiXr-2t4Y"})(ne),ae=function(e){Object(l.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={pos:{lat:32.080033,lng:34.775499}},e.onCenterMap=function(t){e.setState({pos:t})},e}return Object(u.a)(n,[{key:"render",value:function(){var e=this,t=this.state.pos;return Object(r.jsxs)("div",{children:[Object(r.jsx)("h1",{children:"About"}),Object(r.jsx)("button",{onClick:function(){return e.onCenterMap({lat:32.189333,lng:34.856499})},children:"Tel Aviv"}),Object(r.jsx)("button",{onClick:function(){return e.onCenterMap({lat:32.44192,lng:34.9039})},children:"Hadera"}),Object(r.jsx)("button",{onClick:function(){return e.onCenterMap({lat:32.017136,lng:34.745441})},children:"Bat Yam"}),Object(r.jsx)(re,{pos:t,className:"about-Page-map"})]})}}]),n}(a.Component),ce=n(207),se=n(209),oe=n(211),ie=n(61),ue=n(212),le=n(100),pe=n.n(le),je=n(101),de=n.n(je),be={signup:function(e){return he.apply(this,arguments)},loggin:function(e){return Oe.apply(this,arguments)},logout:function(){return me.apply(this,arguments)}};function he(){return(he=Object(m.a)(O.a.mark((function e(t){var n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y("auth/signup",t);case 3:return n=e.sent,e.abrupt("return",n);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function Oe(){return(Oe=Object(m.a)(O.a.mark((function e(t){var n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y("auth/login",t);case 3:return n=e.sent,t.isStayLogged&&localStorage.setItem("loggedUser",JSON.stringify(n)),sessionStorage.setItem("loggedUser",JSON.stringify(n)),e.abrupt("return",n);case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function me(){return(me=Object(m.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y("auth/logout");case 3:localStorage.removeItem("loggedUser"),sessionStorage.removeItem("loggedUser"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}var fe=Object(ce.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)}}}));var xe={logout:function(){return function(){var e=Object(m.a)(O.a.mark((function e(t){var n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,be.logout();case 3:n=e.sent,t({type:"LOGOUT",user:n}),t({type:"SHOW_MSG",msg:"Logged-Out Successfully"}),setTimeout(t,1e3,{type:"CLEAR_MSG"}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:"SHOW_MSG",msg:"Proplems Logging-Out  Plaese Try Again!"}),setTimeout(t,1e3,{type:"CLEAR_MSG"});case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()}},ve=Object(b.b)((function(e){return{}}),xe)((function(e){var t=fe();return Object(r.jsx)("div",{className:t.root,children:Object(r.jsx)(se.a,{position:"static",children:Object(r.jsxs)(oe.a,{variant:"dense",children:[Object(r.jsx)(ue.a,{onClick:e.toggleSideBar,edge:"start",className:t.menuButton,color:"inherit","aria-label":"menu",children:Object(r.jsx)(pe.a,{})}),Object(r.jsxs)(ie.a,{className:"header-txt flex s-b",variant:"h6",color:"inherit",children:[Object(r.jsx)("span",{children:"Mister-Toy's Shop"}),Object(r.jsxs)("span",{onClick:e.logout,className:"flex center",children:[Object(r.jsx)(de.a,{})," Logout"]})]})]})})})})),ge=n(213),ye=n(214),we=n(215),Se=n(104),ke=n.n(Se),Ce=n(102),Te=n.n(Ce),Ie=n(103),_e=n.n(Ie),Ae=n(105),Ue=n.n(Ae),Me=n(106),Ne=n.n(Me);function Ee(e){var t=e.isOpen;return Object(r.jsxs)("div",{children:[Object(r.jsx)(_.b,{to:"/toy",children:Object(r.jsxs)(ge.a,{button:!0,children:[Object(r.jsx)(ye.a,{children:Object(r.jsx)(Te.a,{})}),t&&Object(r.jsx)(we.a,{primary:"Toys"})]})}),Object(r.jsx)(_.b,{to:"/cart",children:Object(r.jsxs)(ge.a,{button:!0,children:[Object(r.jsx)(ye.a,{children:Object(r.jsx)(_e.a,{})}),t&&Object(r.jsx)(we.a,{primary:"Cart"})]})}),Object(r.jsx)(_.b,{to:"/login",children:Object(r.jsxs)(ge.a,{button:!0,children:[Object(r.jsx)(ye.a,{children:Object(r.jsx)(ke.a,{})}),t&&Object(r.jsx)(we.a,{primary:"Account"})]})}),Object(r.jsx)(_.b,{to:"/analitic",children:Object(r.jsxs)(ge.a,{button:!0,children:[Object(r.jsx)(ye.a,{children:Object(r.jsx)(Ue.a,{})}),t&&Object(r.jsx)(we.a,{primary:"Analitics"})]})}),Object(r.jsx)(_.b,{to:"/about",children:Object(r.jsxs)(ge.a,{button:!0,children:[Object(r.jsx)(ye.a,{children:Object(r.jsx)(Ne.a,{})}),t&&Object(r.jsx)(we.a,{primary:"About"})]})})]})}n(176);function Re(e){return Object(r.jsx)("footer",{className:"main-footer flex",children:Object(r.jsx)("h1",{children:"my fucking footer"})})}var Le=n(107),Fe=n(225),De=n(219),Pe=n(217),Ge=n(222),We=n(218),Be=n(224),qe=n(221),He=n(220),Ve=n(223),Ye=n(77),Je=n.n(Ye),Xe=n(216),ze=function(e){Object(l.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={user:{username:"",password:"",isStayLogged:!1}},e.handleChange=function(t){var n=t.target,r=n.name,a=n.value,c=n.type,s=n.checked;"checkbox"===c&&(Object(Le.a)("value"),a=s),e.setState({user:Object(X.a)(Object(X.a)({},e.state.user),{},Object(J.a)({},r,a))})},e.doLoggin=function(){var t=Object(m.a)(O.a.mark((function t(n){var r,a;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),r=e.state.user,t.next=4,e.props.loggin(r);case 4:a=t.sent,console.log(a),a&&e.props.history.push("/toy");case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(u.a)(n,[{key:"render",value:function(){return Object(r.jsxs)(Xe.a,{component:"main",maxWidth:"xs",children:[Object(r.jsx)(Pe.a,{}),Object(r.jsxs)("div",{style:{marginTop:"10px",display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(r.jsx)(Fe.a,{style:{margin:"10px",backgroundColor:"blue"},children:Object(r.jsx)(Je.a,{})}),Object(r.jsx)(ie.a,{component:"h2",variant:"h5",children:"Sign in"}),Object(r.jsxs)("form",{onSubmit:this.doLoggin,style:{width:"100%",marginTop:"5px"},noValidate:!0,children:[Object(r.jsx)(Ge.a,{onChange:this.handleChange,variant:"filled",margin:"normal",required:!0,fullWidth:!0,id:"username",label:"UserName",name:"username",autoFocus:!0}),Object(r.jsx)(Ge.a,{onChange:this.handleChange,variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password"}),Object(r.jsx)(We.a,{control:Object(r.jsx)(Be.a,{value:"remember",color:"primary"}),label:"Remember me"}),Object(r.jsx)(De.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",style:{marginTop:"10px"},children:"Sign In"}),Object(r.jsx)(He.a,{container:!0,children:Object(r.jsx)(He.a,{item:!0,children:Object(r.jsx)(qe.a,{href:"#/signup",variant:"body2",children:"Don't have an account? Sign Up"})})})]})]}),Object(r.jsx)(Ve.a,{mt:8})]})}}]),n}(a.Component),Ke={loggin:function(e){return function(){var t=Object(m.a)(O.a.mark((function t(n){var r;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,be.loggin(e);case 3:return r=t.sent,n({type:"LOGIN",user:r}),n({type:"SHOW_MSG",msg:"Logged In Successfully"}),setTimeout(n,1e3,{type:"CLEAR_MSG"}),t.abrupt("return",r);case 10:t.prev=10,t.t0=t.catch(0),n({type:"SHOW_MSG",msg:"Proplems Loging In  Plaese Try Again!"}),setTimeout(n,1e3,{type:"CLEAR_MSG"});case 14:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()}},$e=Object(b.b)((function(e){return{loggedUser:e.userReducer.loggedUser}}),Ke)(ze),Ze=n(109),Qe=Object(ce.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}}}));var et={signup:function(e){return function(){var t=Object(m.a)(O.a.mark((function t(n){var r;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,be.signup(e);case 3:r=t.sent,n({type:"LOGIN",user:r}),setTimeout(n,1e3,{type:"CLEAR_MSG"}),n({type:"SHOW_MSG",msg:"Signed In Successfully"}),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(0),n({type:"SHOW_MSG",msg:"Proplems Signing Up  Plaese Try Again!"}),setTimeout(n,1e3,{type:"CLEAR_MSG"});case 13:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()}},tt=Object(b.b)((function(e){return{}}),et)((function(e){var t=Qe(),n=Object(a.useState)({firstname:"",lastname:"",username:"",password:""}),c=Object(Ze.a)(n,2),s=c[0],o=c[1],i=function(e){var t=e.target,n=t.name,r=t.value;o(Object(X.a)(Object(X.a)({},s),{},Object(J.a)({},n,r)))};return Object(r.jsxs)(Xe.a,{component:"main",maxWidth:"xs",children:[Object(r.jsx)(Pe.a,{}),Object(r.jsxs)("div",{className:t.paper,children:[Object(r.jsx)(Fe.a,{className:t.avatar,children:Object(r.jsx)(Je.a,{})}),Object(r.jsx)(ie.a,{component:"h1",variant:"h5",children:"Sign up"}),Object(r.jsxs)("form",{className:t.form,onSubmit:function(t){t.preventDefault();var n=s.firstname,r=s.lastname,a=s.username,c=s.password;n&&r&&a&&c&&e.signup(s)},noValidate:!0,children:[Object(r.jsxs)(He.a,{container:!0,spacing:2,children:[Object(r.jsx)(He.a,{item:!0,xs:12,sm:6,children:Object(r.jsx)(Ge.a,{onChange:i,autoComplete:"fname",name:"firstname",variant:"outlined",required:!0,fullWidth:!0,id:"firstname",label:"First Name",autoFocus:!0})}),Object(r.jsx)(He.a,{item:!0,xs:12,sm:6,children:Object(r.jsx)(Ge.a,{onChange:i,variant:"outlined",required:!0,fullWidth:!0,id:"lastname",label:"Last Name",name:"lastname",autoComplete:"lname"})}),Object(r.jsx)(He.a,{item:!0,xs:12,children:Object(r.jsx)(Ge.a,{onChange:i,variant:"outlined",required:!0,fullWidth:!0,id:"username",label:"UserName",name:"username"})}),Object(r.jsx)(He.a,{item:!0,xs:12,children:Object(r.jsx)(Ge.a,{onChange:i,variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password"})}),Object(r.jsx)(He.a,{item:!0,xs:12,children:Object(r.jsx)(We.a,{control:Object(r.jsx)(Be.a,{value:"allowExtraEmails",color:"primary"}),label:"I want to receive inspiration, marketing promotions and updates via email."})})]}),Object(r.jsx)(De.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit,children:"Sign Up"}),Object(r.jsx)(He.a,{container:!0,justify:"flex-end",children:Object(r.jsx)(He.a,{item:!0,children:Object(r.jsx)(qe.a,{href:"#/login",variant:"body2",children:"Already have an account? Sign in"})})})]})]}),Object(r.jsx)(Ve.a,{mt:5})]})}));var nt=Object(b.b)((function(e){return{userMsg:e.toyReducer.userMsg}}))((function(e){return e.userMsg?Object(r.jsx)("h1",{className:"user-msg flex j-center",children:e.userMsg}):null})),rt=function(e){Object(l.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={isSideBarOpen:!1},e.toggleSideBar=function(){e.setState({isSideBarOpen:!e.state.isSideBarOpen})},e}return Object(u.a)(n,[{key:"render",value:function(){return Object(r.jsxs)("main",{className:"app-container",children:[Object(r.jsxs)("header",{className:"main-header",children:[Object(r.jsx)(ve,{toggleSideBar:this.toggleSideBar}),Object(r.jsx)(nt,{})]}),Object(r.jsx)("aside",{className:"main-side-bar",children:Object(r.jsx)(Ee,{isOpen:this.state.isSideBarOpen})}),Object(r.jsx)("div",{className:"main-app-container flex",children:Object(r.jsxs)(j.c,{children:[Object(r.jsx)(j.a,{path:"/toy/edit/:toyId?",component:ee}),Object(r.jsx)(j.a,{path:"/toy/:toyId",component:Y}),Object(r.jsx)(j.a,{path:"/toy",component:D}),Object(r.jsx)(j.a,{path:"/about",component:ae}),Object(r.jsx)(j.a,{path:"/login",component:$e}),Object(r.jsx)(j.a,{path:"/signup",component:tt}),Object(r.jsx)(j.a,{path:"/",component:d})]})}),Object(r.jsx)(Re,{})]})}}]),n}(a.Component),at=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,228)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),r(e),a(e),c(e),s(e)}))},ct=n(54),st=n(108),ot=n(67),it={toys:[],userMsg:null,currFilter:{name:"",type:"",minPrice:void 0,maxPrice:void 0,inStock:void 0}};var ut={loggedUser:JSON.parse(sessionStorage.getItem("loggedUser"))||JSON.parse(localStorage.getItem("loggedUser"))||null};var lt={reviews:[]};var pt=Object(ct.c)({toyReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:it,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SHOW_MSG":return Object(X.a)(Object(X.a)({},e),{},{userMsg:t.msg});case"CLEAR_MSG":return Object(X.a)(Object(X.a)({},e),{},{userMsg:""});case"LOAD_TOYS":return Object(X.a)(Object(X.a)({},e),{},{toys:t.toys});case"UPDATE_TOY":var n=e.toys.findIndex((function(e){return e._id===t.toy._id})),r=Object(ot.a)(e.toys);if(n>=0)r.splice(n,1,t.toy);else var a=[].concat(Object(ot.a)(r),[t.toy]);return Object(X.a)(Object(X.a)({},e),{},{toys:a||r});case"REMOVE_TOY":return Object(X.a)(Object(X.a)({},e),{},{toys:e.toys.filter((function(e){return e._id!==t.toyId}))});case"SET_FILTER":return Object(X.a)(Object(X.a)({},e),{},{currFilter:t.filter});default:return e}},userReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ut,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN":return Object(X.a)(Object(X.a)({},e),{},{loggedUser:t.user});case"LOGOUT":return Object(X.a)(Object(X.a)({},e),{},{loggedUser:null});default:return e}},reviewReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_REVIEWS":return Object(X.a)(Object(X.a)({},e),{},{reviews:t.reviews});case"ADD_REVIEW":return Object(X.a)(Object(X.a)({},e),{},{reviews:[].concat(Object(ot.a)(e.reviews),[t.review])});default:return e}}}),jt=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||ct.d,dt=Object(ct.e)(pt,jt(Object(ct.a)(st.a)));o.a.render(Object(r.jsx)(b.a,{store:dt,children:Object(r.jsx)(_.a,{children:Object(r.jsx)(rt,{})})}),document.getElementById("root")),at()}},[[177,1,2]]]);
//# sourceMappingURL=main.333cef8a.chunk.js.map